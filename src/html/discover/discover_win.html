<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width">
    <link href="../../css/common.css" rel="stylesheet">

    <style>
        #app {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: var(--color-gray1);
            overflow: hidden;
        }
    </style>
    <script src="../../script/lib/app.responsive.js"></script>
    <script src="../../script/lib/vue.min.js"></script>
    <script src="../../script/lib/api.js"></script>
    <script src="../../script/lib/jquery-3.4.1.min.js"></script>
    <script src="../../script/common.js"></script>
    <script src="../../script/service.js"></script>
    <script src="../../script/mixins.js"></script>
    <script src="../../script/components/component-header.js"></script>
</head>
<body>
<div id="app">
    <e-header id="header" :close="() => close()" title="活力链 - 登录"></e-header>
</div>
<script>
  new Vue({
    el: '#app',
    data: function () {
      return {
        name: '',
        frm: './discover_frm.html',
      };
    },
    mounted: function () {
      var $this = this;
      util.app.ready(function () {
        util.app.fixStatusBar('header');
        $this.name = util.app.param('name');
        $this.init();
      });
    },
    methods: {
      init: function () {
        var $this = this;
        $this.listen();
        $this.openFrame();
      },
      listen: function () {
        var $this = this;
        util.app.listen('keyback', function () {
          $this.close();
        });
        util.app.listen('viewappear', function () {
        });
      },
      openFrame: function () {
        var $this = this;
        var headerHeight = $api.offset($api.byId("header")).h;
        util.app.openFrame($this.name, $this.frm, {y: headerHeight}, {id: $this.id});
      },
      close: function () {
        var $this = this;
        util.app.closeWindow($this.name);
      },
    }
  });
</script>

</body>

</html>
